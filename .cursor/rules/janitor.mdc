---
alwaysApply: false
description: Guide mÃ©thodologique pour nettoyer et organiser systÃ©matiquement le repository via une machine Ã  Ã©tats modulaire
---

# RÃ¨gle Janitor : Nettoyage SystÃ©matique du Repository ğŸ§¹

## Principe Fondamental : Nettoyage Complet et Organisation

Cette rÃ¨gle implÃ©mente un systÃ¨me de nettoyage systÃ©matique du repository : **maintenir la propretÃ©, structurer la documentation et assurer la connectivitÃ© des docs sans rien casser**. L'objectif est de traiter UN SEUL dossier par exÃ©cution avec un processus mÃ©thodologique rigoureux.

**Philosophie** : Un repository propre est un repository maintenable. Mieux vaut traiter un dossier complÃ¨tement que plusieurs superficiellement.

---

## â›”ğŸš«âŒ INTERDICTION ABSOLUE DE CASSER âŒğŸš«â›”

**RÃˆGLE CRITIQUE** : Le janitor doit UNIQUEMENT nettoyer et organiser. **TOUTE tentative de modification qui pourrait casser le fonctionnement interrompt immÃ©diatement le cycle.**

### Interdictions strictes :
- ğŸš« **Ne jamais supprimer** sans vÃ©rification prÃ©alable
- ğŸš« **Ne jamais modifier** du code fonctionnel sans nÃ©cessitÃ©
- ğŸš« **Ne jamais casser** des liens existants dans la documentation
- âŒ **ArrÃªt immÃ©diat** si l'agent risque de compromettre la fonctionnalitÃ©

**Rappel constant** : Cette rÃ¨gle **NETTOIE**, ne casse pas. PrÃ©server l'intÃ©gritÃ© fonctionnelle est primordial.

## ğŸ—ï¸ Architecture de Machine Ã  Ã‰tats Modulaire

### Nouveau SystÃ¨me : Architecture Janitor/

Cette rÃ¨gle a Ã©tÃ© **transformÃ©e en une architecture de machine Ã  Ã©tats modulaire** pour garantir un processus de nettoyage rigoureux et fiable. Le systÃ¨me monolithique prÃ©cÃ©dent a Ã©tÃ© dÃ©composÃ© en **6 Ã©tapes interconnectÃ©es** dans le dossier `.cursor/rules/janitor/`.

### Pourquoi cette Architecture ?

**ProblÃ¨mes du systÃ¨me prÃ©cÃ©dent** :
- L'agent avait tendance Ã  oublier oÃ¹ il en Ã©tait
- Risque d'abandon prÃ©maturÃ© du processus
- Tentatives de modification excessive pendant le nettoyage
- Manque de rigueur dans la validation des rÃ©sultats

**Solutions apportÃ©es** :
- âœ… **Machine Ã  Ã©tats stricte** : chaque Ã©tape est autonome et obligatoire
- âœ… **Transitions explicites** : l'agent doit invoquer la rÃ¨gle suivante avec `fetch_rules`
- âœ… **Boucle interne contrÃ´lÃ©e** : Ã©tape 04-clean-files avec gestion des sous-dossiers
- âœ… **Reminder standardisÃ©** : rappel constant des rÃ¨gles dans chaque Ã©tape

## ğŸ”„ Processus MÃ©thodologique en 6 Ã‰tapes

### Vue d'Ensemble du SystÃ¨me Ã  Ã‰tats

```
00-start (point d'entrÃ©e)
  â†“
01-root-check       # VÃ©rification racine du repository
  â†“
02-select-folder    # SÃ©lection du dossier Ã  traiter
  â†“
03-explore-folder   # Exploration structure du dossier
  â†“
04-clean-files      # Nettoyage fichiers (boucle sous-dossiers)
  â†“ (loop interne)
  â”œâ†’ 04-clean-files (si sous-dossiers restants)
  â””â†’ 05-update-docs (si tous sous-dossiers traitÃ©s)
  â†“
05-update-docs      # Mise Ã  jour documentation
```

### CaractÃ©ristiques ClÃ©s de l'Architecture

#### 1. **Machine Ã  Ã‰tats Stricte**
- **INTERDICTION ABSOLUE** de mÃ©langer ou sauter des Ã©tapes
- **OBLIGATION** de marquer explicitement le titre de l'Ã©tape actuelle
- **Chaque Ã©tape** a un objectif prÃ©cis et ne peut pas Ãªtre contournÃ©e

#### 2. **Transitions Explicites**
- L'agent DOIT invoquer la rÃ¨gle suivante avec `fetch_rules`
- Chaque rÃ¨gle indique clairement quelle rÃ¨gle invoquer ensuite
- La rÃ¨gle 04-clean-files offre une boucle interne pour les sous-dossiers

#### 3. **Traitement Complet par Dossier**
- **UN SEUL dossier** traitÃ© par exÃ©cution complÃ¨te
- **TOUS les sous-dossiers** du dossier sÃ©lectionnÃ© sont traitÃ©s
- **Boucle interne** dans 04-clean-files pour traiter chaque sous-dossier

#### 4. **Reminder StandardisÃ©**
- Chaque rÃ¨gle (01 Ã  05) commence par un rappel identique
- Interdictions absolues rÃ©pÃ©tÃ©es dans chaque Ã©tape
- Machine Ã  Ã©tats clairement affichÃ©e

## ğŸ¯ Comment Utiliser cette Architecture

### Activation du SystÃ¨me

**Pour dÃ©marrer un nettoyage du repository** :

1. **Invoquer cette rÃ¨gle** : `fetch_rules` avec `janitor`
2. **DÃ©marrer la machine Ã  Ã©tats** : Invoquer `fetch_rules` avec `00-start`
3. **Suivre le processus** : L'agent suivra automatiquement les 6 Ã©tapes dans l'ordre
4. **Valider** : VÃ©rifier que le repo est plus propre aprÃ¨s le nettoyage

### Exemple d'Activation

```
Utilisateur : "Utilise la rÃ¨gle janitor pour nettoyer le repository"

Agent : [Invoque cette rÃ¨gle, puis] 
â†’ Invoque `fetch_rules` avec `00-start`
â†’ Suit automatiquement : 01-root-check â†’ 02-select-folder â†’ 03-explore-folder â†’ 04-clean-files âŸ² â†’ 05-update-docs
â†’ [Termine] : Dossier nettoyÃ© et documentÃ©
```

## ğŸ“ Structure des Fichiers Janitor/

```
.cursor/rules/janitor/
â”œâ”€â”€ 00-start.mdc          # Point d'entrÃ©e : explique le systÃ¨me Ã  Ã©tats
â”œâ”€â”€ 01-root-check.mdc     # VÃ©rification racine du repository
â”œâ”€â”€ 02-select-folder.mdc  # SÃ©lection du dossier Ã  traiter
â”œâ”€â”€ 03-explore-folder.mdc # Exploration structure du dossier
â”œâ”€â”€ 04-clean-files.mdc    # Nettoyage fichiers (boucle sous-dossiers)
â””â”€â”€ 05-update-docs.mdc    # Mise Ã  jour documentation finale
```

## âš ï¸ RÃ¨gles de la Machine Ã  Ã‰tats

### RÃ¨gles de fonctionnement obligatoires :
- âœ… **UNIQUEMENT** effectuer les actions dÃ©crites dans la rÃ¨gle actuelle
- âŒ **INTERDICTION ABSOLUE** de faire autre chose (mÃªme si Ã§a semble utile)
- âŒ **NE RIEN CASSER** : prÃ©server fonctionnalitÃ© existante
- âœ… **OBLIGATION** d'invoquer la rÃ¨gle suivante en fin d'Ã©tape avec l'outil `fetch_rules`

### Indication Obligatoire de l'Ã‰tape

L'agent DOIT **toujours** indiquer son Ã©tape actuelle avec des titres markdown explicites :
- `## Ã‰tape 01 : VÃ©rification racine du repository`
- `## Ã‰tape 02 : SÃ©lection du dossier Ã  traiter`
- `## Ã‰tape 03 : Exploration de la structure du dossier`
- `## Ã‰tape 04 : Nettoyage systÃ©matique des fichiers`
- `## Ã‰tape 05 : Mise Ã  jour de la documentation`

**RÃ¨gle de Machine Ã  Ã‰tat** : Lors des retours/redirections, l'agent DOIT marquer le titre correspondant pour indiquer clairement qu'il change d'Ã©tat.

## ğŸš€ Activation ImmÃ©diate

**Pour commencer le nettoyage, invoquez immÃ©diatement la premiÃ¨re rÃ¨gle de la machine Ã  Ã©tats :**

**Prochaine Ã©tape** : Invoquer la rÃ¨gle `00-start` avec l'outil `fetch_rules` pour dÃ©marrer le processus de nettoyage en 6 Ã©tapes.

---

## Transitions Possibles

**Toujours vers** : `00-start` - Point d'entrÃ©e de la machine Ã  Ã©tats de nettoyage

**Action requise** : Une fois cette rÃ¨gle invoquÃ©e, invoquer `fetch_rules` avec le nom `00-start` pour commencer le processus de nettoyage systÃ©matique.